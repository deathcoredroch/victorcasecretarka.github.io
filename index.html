<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Victorka Secretarka</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500;600&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #fde8ef;
      --card: #ffffff;
      --text: #2a2a2a;
      --accent: #e7a1b0;
      --accent-soft: rgba(231,161,176,0.35);
      --shadow: 0 10px 30px rgba(0,0,0,0.08);
      --success: #4caf50;
      --error: #e53935;
    }

    body.dark {
      --bg: #3b0f23;
      --card: #4a162d;
      --text: #f6e9ef;
      --accent: #f3b6c6;
      --accent-soft: rgba(243,182,198,0.25);
      --shadow: 0 10px 35px rgba(0,0,0,0.35);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      min-height: 100vh;
      background: var(--bg);
      color: var(--text);
      font-family: 'Inter', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: 0.6s ease;
    }

    button {
      border: none;
      background: none;
      cursor: pointer;
      font-family: inherit;
    }

    /* INTRO */
    #intro {
      position: fixed;
      inset: 0;
      background: rgba(253,232,239,0.95);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 999;
      animation: fadeIn 1.2s ease;
    }

    body.dark #intro {
      background: rgba(59,15,35,0.95);
    }

    .intro-box {
      text-align: center;
      animation: introRise 1.2s ease;
    }

    .intro-title {
      font-family: 'Playfair Display', serif;
      font-size: 3.2rem;
      letter-spacing: 1.5px;
      margin-bottom: 16px;
    }

    .intro-sub {
      font-style: italic;
      opacity: 0.75;
      margin-bottom: 36px;
    }

    .intro-start {
      font-family: 'Playfair Display', serif;
      font-size: 1.2rem;
      letter-spacing: 3px;
      text-transform: uppercase;
      position: relative;
      padding-bottom: 6px;
      color: var(--text); /* ← ВОТ ЭТО */
    }

    .intro-start::after {
      content: "";
      position: absolute;
      left: 50%;
      bottom: 0;
      width: 0;
      height: 1px;
      background: var(--accent);
      transition: 0.4s ease;
      transform: translateX(-50%);
    }

    .intro-start:hover::after {
      width: 100%;
    }

    /* APP */
    .app {
      width: 100%;
      max-width: 420px;
      padding: 16px;
      display: none;
      animation: fadeIn 0.8s ease;
    }

    header {
      text-align: center;
      margin-bottom: 16px;
    }

    h1 {
      font-family: 'Playfair Display', serif;
      font-size: 2.2rem;
      margin: 0;
    }

    .controls {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
    }

    .pill {
      padding: 6px 14px;
      border-radius: 999px;
      background: var(--card);
      box-shadow: var(--shadow);
      font-size: 0.85rem;
      color: var(--text); /* ← ВОТ ЭТО */
    }

    .card {
      background: var(--card);
      box-shadow: var(--shadow);
      border-radius: 24px;
      padding: 24px;
      text-align: center;
    }

    .phrase {
      font-size: 1.4rem;
      margin-bottom: 20px;
    }

    input {
      width: 100%;
      padding: 14px;
      border-radius: 14px;
      border: 1px solid transparent;
      text-align: center;
      font-size: 1rem;
    }

    .btn {
      padding: 12px;
      border-radius: 14px;
      background: var(--accent);
      color: #fff;
      width: 100%;
      margin-top: 10px;
    }

    .btn.secondary {
      background: transparent;
      border: 1px solid var(--accent);
      color: var(--text);
    }

    .btn.skip {
      font-family: 'Playfair Display', serif;
      letter-spacing: 2px;
      text-transform: uppercase;
      background: transparent;
      color: var(--text);
      opacity: 0.7;
    }

    .btn.skip:hover {
      opacity: 1;
    }

    .feedback {
      margin-top: 12px;
      min-height: 24px;
    }

    .mistakes {
      margin-top: 20px;
      background: var(--card);
      padding: 16px;
      border-radius: 20px;
      box-shadow: var(--shadow);
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes introRise {
      from { transform: translateY(30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .mistakes-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.mistakes.collapsed ul,
.mistakes.collapsed #clearMistakes {
  display: none;
}

/* ===== Right controls ===== */
.controls {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.right-controls {
  display: flex;
  gap: 10px;
  align-items: center;
}

/* ===== Errors mode button ===== */
.error-btn {
  font-family: 'Playfair Display', serif;
  font-size: 0.7rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  background: var(--card);
  color: var(--text);
}

/* ===== Theme button ===== */
.theme-btn {
  width: 44px;
  height: 24px;
  border-radius: 999px;
  background: linear-gradient(90deg, #f5b7c7 50%, #c9a7f5 50%);
  border: 1px solid rgba(255,255,255,0.4);
  box-shadow: var(--shadow);
  cursor: pointer;
  transition: transform 0.3s ease;
}

.theme-btn:hover {
  transform: scale(1.05);
}

/* ===== Show / Hide (Mistakes) ===== */
#toggleMistakes {
  font-family: 'Playfair Display', serif;
  font-size: 0.7rem;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  background: #e7a1b0;
  color: #fff;
  padding: 6px 14px;
  border-radius: 999px;
  box-shadow: var(--shadow);
  cursor: pointer;
  transition: 0.3s ease;
}

#toggleMistakes:hover {
  opacity: 0.85;
}

/* ===== Errors background ===== */
body.errors {
  transition: background 0.8s ease;
}

body.errors:not(.dark) {
  background: linear-gradient(135deg, #ffe6ef, #f7d6e6);
}

body.errors.dark {
  background: linear-gradient(135deg, #3b0f23, #5a1a34);
}

/* ===== Active Errors Mode button ===== */
.error-btn.active {
  background: linear-gradient(135deg, #f5b7c7, #e3a1b8);
  color: #3b0f23;
  box-shadow:
    0 0 12px rgba(245, 183, 199, 0.8),
    0 0 24px rgba(245, 183, 199, 0.5);
  transition: all 0.4s ease;
}

/* В тёмной теме */
body.dark .error-btn.active {
  background: linear-gradient(135deg, #f3b6c6, #c98aa2);
  color: #3b0f23;
  box-shadow:
    0 0 14px rgba(243, 182, 198, 0.9),
    0 0 28px rgba(243, 182, 198, 0.6);
}

.no-mistakes {
  font-family: 'Dancing Script', cursive;
  font-size: 1.8rem;
  letter-spacing: 0.05em;
  opacity: 0.8;
}

.no-mistakes {
  animation: fadeIn 0.8s ease;
}

  </style>
</head>

<body>

<!-- INTRO -->
<div id="intro">
  <div class="intro-box">
    <div class="intro-title">Victorka Secretarka</div>
    <div class="intro-sub">Luxury way to master phrasal verbs</div>
    <button class="intro-start" id="startIntro">Start</button>
  </div>
</div>

<!-- APP -->
<div class="app" id="app">
  <header>
    <h1>Victorka Secretarka</h1>
    <div class="controls">
  <div class="pill" id="score">Score: 0</div>

  <div class="right-controls">
    <button class="pill error-btn" id="modeToggle">Errors mode</button>
    <button class="theme-btn" id="themeToggle"></button>
  </div>
</div>
  </header>

  <div class="card">
    <div class="phrase" id="phrase"></div>
    <input id="answer" placeholder="Type the verb…" />

    <button class="btn" id="checkBtn">Check</button>
    <button class="btn secondary" id="showTranslation">Show translation</button>
    <button class="btn skip" id="skipBtn">Skip</button>

    <div class="feedback" id="feedback"></div>
    <div class="translation" id="translation"></div>
  </div>

  <div class="mistakes" id="mistakesBox">
  <div class="mistakes-header">
    <h3>Mistakes</h3>
    <button class="pill" id="toggleMistakes">Hide</button>
  </div>

  <ul id="mistakeList"></ul>
  <button class="btn secondary" id="clearMistakes">Clear</button>
</div>

<script>
/* INTRO — ALWAYS SHOW ON RELOAD */
localStorage.removeItem("mistakes");

const intro = document.getElementById("intro");
const app = document.getElementById("app");

document.getElementById("startIntro").onclick = () => {
  intro.style.display = "none";
  app.style.display = "block";
  load();
};

/* THEME */
if (localStorage.getItem("theme") === "dark") {
  document.body.classList.add("dark");
}
document.getElementById("themeToggle").onclick = () => {
  document.body.classList.toggle("dark");
  localStorage.setItem("theme",
    document.body.classList.contains("dark") ? "dark" : "light"
  );
};

/* TRAINING */
const data = [
  // 1. MAKE
{ "verb": "make", "tail": "a fortune", "tr": "сколотить состояние" },
{ "verb": "make", "tail": "fun of", "tr": "смеяться над (кем-то), высмеивать" },
{ "verb": "make", "tail": "sure/certain", "tr": "убедиться, удостовериться" },
{ "verb": "make", "tail": "a deal", "tr": "заключить сделку" },
{ "verb": "make", "tail": "room", "tr": "подвинуться, освободить место" },
{ "verb": "make", "tail": "a mistake", "tr": "совершить ошибку" },
{ "verb": "make", "tail": "progress", "tr": "делать успехи" },
{ "verb": "make", "tail": "an exception", "tr": "сделать исключение" },
{ "verb": "make", "tail": "a suggestion", "tr": "внести предложение" },
{ "verb": "make", "tail": "a difference", "tr": "изменить ситуацию, иметь значение" },
{ "verb": "make", "tail": "a living", "tr": "зарабатывать на жизнь" },
{ "verb": "make", "tail": "a promise", "tr": "дать обещание" },
{ "verb": "make", "tail": "use of", "tr": "использовать, воспользоваться" },
{ "verb": "make", "tail": "sense", "tr": "иметь смысл, быть понятным" },
{ "verb": "make", "tail": "smth clear", "tr": "прояснить что-то" },
{ "verb": "make", "tail": "a fuss", "tr": "суетиться, поднимать шум" },
{ "verb": "make", "tail": "noise", "tr": "шуметь" },
{ "verb": "make", "tail": "an effort", "tr": "приложить усилие" },
{ "verb": "make", "tail": "an attempt", "tr": "сделать попытку" },
{ "verb": "make", "tail": "up one's mind", "tr": "принять решение" },
{ "verb": "make", "tail": "a guess", "tr": "высказать догадку" },
{ "verb": "make", "tail": "room for", "tr": "освободить место для" },
{ "verb": "make", "tail": "a decision", "tr": "принять решение" },
{ "verb": "make", "tail": "a plan", "tr": "составить план" },
{ "verb": "make", "tail": "arrangements", "tr": "договориться, организовать" },
{ "verb": "make", "tail": "a choice", "tr": "сделать выбор" },
{ "verb": "make", "tail": "a move", "tr": "сделать ход, пошевелиться" },
{ "verb": "make", "tail": "a list", "tr": "составить список" },
{ "verb": "make", "tail": "a call (to someone)", "tr": "позвонить (кому-то)" },
{ "verb": "make", "tail": "a comment", "tr": "прокомментировать" },
{ "verb": "make", "tail": "a statement", "tr": "сделать заявление" },
{ "verb": "make", "tail": "a comparison", "tr": "сравнить" },
{ "verb": "make", "tail": "an observation", "tr": "сделать замечание/наблюдение" },
{ "verb": "make", "tail": "an excuse", "tr": "придумать отговорку" },
{ "verb": "make", "tail": "a point", "tr": "высказать мысль/доказать что-то" },
{ "verb": "make", "tail": "a remark", "tr": "сделать замечание" },
{ "verb": "make", "tail": "friends (with someone)", "tr": "подружиться (с кем-то)" },
{ "verb": "make", "tail": "peace (with someone)", "tr": "помириться (с кем-то)" },
{ "verb": "make", "tail": "someone’s day", "tr": "сделать чей-то день" },
{ "verb": "make", "tail": "a profit", "tr": "получить прибыль" },
{ "verb": "make", "tail": "a name for oneself", "tr": "завоевать репутацию" },
{ "verb": "make", "tail": "an investment", "tr": "сделать инвестицию" },
{ "verb": "make", "tail": "a complaint", "tr": "подать жалобу" },
{ "verb": "make", "tail": "a contribution (to something)", "tr": "внести вклад (во что-то)" },
{ "verb": "make", "tail": "contact (with someone)", "tr": "связаться (с кем-то)" },
{ "verb": "make", "tail": "the bed", "tr": "заправить постель" },
{ "verb": "make", "tail": "breakfast/lunch/dinner", "tr": "приготовить завтрак/обед/ужин" },
{ "verb": "make", "tail": "coffee/tea", "tr": "приготовить кофе/чай" },
{ "verb": "make", "tail": "a mess", "tr": "устроить беспорядок" },
{ "verb": "make", "tail": "an appointment", "tr": "назначить встречу" },
{ "verb": "make", "tail": "ends meet", "tr": "сводить концы с концами" },
{ "verb": "make", "tail": "the most of (something)", "tr": "извлечь максимум пользы" },
{ "verb": "make", "tail": "it", "tr": "успеть, справиться" },
{ "verb": "make", "tail": "up for (something)", "tr": "компенсировать, наверстать" },
{ "verb": "make", "tail": "up with", "tr": "помириться с" },
{ "verb": "make", "tail": "time (for something or someone)", "tr": "выделить время" },
{ "verb": "make", "tail": "out (understand)", "tr": "разобрать, понять" },
// 2. DO
{ "verb": "do", "tail": "your best", "tr": "сделать все возможное" },
{ "verb": "do", "tail": "puzzles", "tr": "разгадывать головоломки" },
{ "verb": "do", "tail": "chores", "tr": "заниматься домашними делами" },
{ "verb": "do", "tail": "a favor", "tr": "оказать услугу" },
{ "verb": "do", "tail": "homework", "tr": "делать домашнее задание" },
{ "verb": "do", "tail": "business", "tr": "вести дела" },
{ "verb": "do", "tail": "the dishes", "tr": "мыть посуду" },
{ "verb": "do", "tail": "research", "tr": "проводить исследование" },
{ "verb": "do", "tail": "harm", "tr": "причинять вред" },
{ "verb": "do", "tail": "wonders", "tr": "творить чудеса" },
{ "verb": "do", "tail": "your hair / nails / makeup", "tr": "делать прическу / маникюр / макияж" },
{ "verb": "do", "tail": "exercise / yoga / sports", "tr": "заниматься спортом / йогой" },
{ "verb": "do", "tail": "damage", "tr": "причинять ущерб" },
{ "verb": "do", "tail": "well / badly (in an exam, at work)", "tr": "справиться хорошо / плохо" },
{ "verb": "do", "tail": "your duty", "tr": "исполнять свой долг" },
{ "verb": "do", "tail": "your job", "tr": "выполнять свою работу" },
{ "verb": "do", "tail": "the gardening", "tr": "заниматься садоводством" },
// 3. TAKE
{ "verb": "take", "tail": "a break", "tr": "сделать перерыв" },
{ "verb": "take", "tail": "your time", "tr": "не торопиться" },
{ "verb": "take", "tail": "a breath", "tr": "сделать вдох" },
{ "verb": "take", "tail": "turns", "tr": "делать по очереди" },
{ "verb": "take", "tail": "a chance", "tr": "рискнуть" },
{ "verb": "take", "tail": "a photo", "tr": "сфотографировать" },
{ "verb": "take", "tail": "responsibility", "tr": "взять на себя ответственность" },
{ "verb": "take", "tail": "notes", "tr": "делать заметки" },
{ "verb": "take", "tail": "a risk", "tr": "рисковать" },
{ "verb": "take", "tail": "action", "tr": "принять меры" },
{ "verb": "take", "tail": "into consideration", "tr": "принять во внимание" },
{ "verb": "take", "tail": "part (in something)", "tr": "принимать участие" },
{ "verb": "take", "tail": "care (of someone/something)", "tr": "заботиться (о ком-то/чем-то)" },
{ "verb": "take", "tail": "advantage (of)", "tr": "воспользоваться" },
{ "verb": "take", "tail": "place (happen)", "tr": "состояться, произойти" },
{ "verb": "take", "tail": "a seat", "tr": "сесть" },
{ "verb": "take", "tail": "charge (of something)", "tr": "взять на себя руководство" },
{ "verb": "take", "tail": "control (of something)", "tr": "взять под контроль" },
{ "verb": "take", "tail": "effect", "tr": "вступить в силу" },
{ "verb": "take", "tail": "pride (in something)", "tr": "гордиться (чем-то)" },
{ "verb": "take", "tail": "measures (to do something)", "tr": "принять меры" },
{ "verb": "take", "tail": "medicine", "tr": "принять лекарство" },
{ "verb": "take", "tail": "a test / exam", "tr": "сдавать тест / экзамен" },
{ "verb": "take", "tail": "a shower / bath", "tr": "принять душ / ванну" },
{ "verb": "take", "tail": "a taxi / bus / train", "tr": "взять такси / сесть на автобус / поезд" },
{ "verb": "take", "tail": "it easy", "tr": "расслабиться, не волноваться" },
{ "verb": "take", "tail": "the lead", "tr": "возглавить, быть лидером" },
{ "verb": "take", "tail": "notice (of something)", "tr": "обратить внимание" },
{ "verb": "take", "tail": "up (a hobby)", "tr": "начать (заниматься хобби)" },
// 4. GET
{ "verb": "get", "tail": "(passport) renewed", "tr": "обновить (паспорт)" },
{ "verb": "get", "tail": "the impression", "tr": "сложиться впечатление" },
{ "verb": "get", "tail": "ready", "tr": "приготовиться" },
{ "verb": "get", "tail": "a job", "tr": "получить работу" },
{ "verb": "get", "tail": "lost", "tr": "потеряться" },
{ "verb": "get", "tail": "angry", "tr": "рассердиться" },
{ "verb": "get", "tail": "permission", "tr": "получить разрешение" },
{ "verb": "get", "tail": "married", "tr": "пожениться, выйти замуж" },
{ "verb": "get", "tail": "started", "tr": "начать" },
{ "verb": "get", "tail": "better", "tr": "поправиться, стать лучше" },
{ "verb": "get", "tail": "dressed / undressed", "tr": "одеться / раздеться" },
{ "verb": "get", "tail": "the message", "tr": "понять суть" },
{ "verb": "get", "tail": "the job done", "tr": "завершить работу" },
{ "verb": "get", "tail": "rid of (something)", "tr": "избавиться от (чего-то)" },
{ "verb": "get", "tail": "along (with someone)", "tr": "ладить (с кем-то)" },
{ "verb": "get", "tail": "over (an illness, breakup)", "tr": "преодолеть, оправиться" },
{ "verb": "get", "tail": "through (a hard time)", "tr": "пережить, пройти через (трудное время)" },
{ "verb": "get", "tail": "used to (something)", "tr": "привыкнуть (к чему-то)" },
{ "verb": "get", "tail": "in touch (with someone)", "tr": "связаться (с кем-то)" },
{ "verb": "get", "tail": "away (escape or go on vacation)", "tr": "сбежать, уехать (в отпуск)" },
{ "verb": "get", "tail": "cold feet (lose courage)", "tr": "струсить, передумать" },
{ "verb": "get", "tail": "one’s way", "tr": "добиться своего" },
// 5. CALL
{ "verb": "call", "tail": "(someone)", "tr": "позвонить (кому-то)" },
{ "verb": "call", "tail": "off (a meeting)", "tr": "отменить (встречу)" },
{ "verb": "call", "tail": "attention to", "tr": "привлечь внимание к" },
{ "verb": "call", "tail": "a taxi", "tr": "вызвать такси" },
{ "verb": "call", "tail": "it a day", "tr": "закругляться, закончить работу" },
{ "verb": "call", "tail": "the police", "tr": "вызвать полицию" },
{ "verb": "call", "tail": "for help", "tr": "звать на помощь" },
{ "verb": "call", "tail": "a truce", "tr": "объявить перемирие" },
{ "verb": "call", "tail": "into question", "tr": "ставить под сомнение" },
{ "verb": "call", "tail": "the shots", "tr": "командовать, принимать решения" },
{ "verb": "call", "tail": "someone names", "tr": "обзывать кого-то" },
// 6. GIVE
{ "verb": "give", "tail": "(clothes) to charity", "tr": "отдать (одежду) на благотворительность" },
{ "verb": "give", "tail": "a hand", "tr": "помочь" },
{ "verb": "give", "tail": "advice", "tr": "дать совет" },
{ "verb": "give", "tail": "a speech", "tr": "произнести речь" },
{ "verb": "give", "tail": "permission", "tr": "дать разрешение" },
{ "verb": "give", "tail": "a warning", "tr": "предупредить" },
{ "verb": "give", "tail": "an example", "tr": "привести пример" },
{ "verb": "give", "tail": "credit", "tr": "отдать должное" },
{ "verb": "give", "tail": "birth", "tr": "родить" },
{ "verb": "give", "tail": "a hug", "tr": "обнять" },
{ "verb": "give", "tail": "up (quit doing something)", "tr": "бросить, сдаться" },
{ "verb": "give", "tail": "in (surrender)", "tr": "уступить, сдаться" },
{ "verb": "give", "tail": "out (distribute)", "tr": "раздавать" },
{ "verb": "give", "tail": "away (as a gift / reveal a secret)", "tr": "отдать (в подарок) / выдать (секрет)" },
{ "verb": "give", "tail": "thought to (something)", "tr": "подумать о (чем-то)" },
{ "verb": "give", "tail": "rise to (cause)", "tr": "привести к, послужить причиной" },
{ "verb": "give", "tail": "someone a lift / ride", "tr": "подвезти кого-то" },
{ "verb": "give", "tail": "someone a call / ring", "tr": "позвонить кому-то" },
{ "verb": "give", "tail": "notice (resign from a job)", "tr": "подать заявление об увольнении" },
{ "verb": "give", "tail": "feedback", "tr": "дать обратную связь" },
{ "verb": "give", "tail": "it a try / go / shot", "tr": "попробовать" },
{ "verb": "give", "tail": "a warm welcome", "tr": "тепло приветствовать" },
// 7. LOOK
{ "verb": "look", "tail": "after (a cat)", "tr": "присматривать за (кошкой)" },
{ "verb": "look", "tail": "up to (someone)", "tr": "восхищаться (кем-то), уважать" },
{ "verb": "look", "tail": "forward to", "tr": "с нетерпением ждать" },
{ "verb": "look", "tail": "into (investigate)", "tr": "расследовать" },
{ "verb": "look", "tail": "out for", "tr": "высматривать, остерегаться" },
{ "verb": "look", "tail": "down on", "tr": "смотреть свысока" },
{ "verb": "look", "tail": "through", "tr": "просмотреть, пролистать" },
{ "verb": "look", "tail": "around", "tr": "осмотреться" },
{ "verb": "look", "tail": "back (on the past)", "tr": "оглядываться назад (в прошлое)" },
{ "verb": "look", "tail": "up (a word / information)", "tr": "искать (слово / информацию)" },
// 8. BREAK
{ "verb": "break", "tail": "the news", "tr": "сообщить (плохую) новость" },
{ "verb": "break", "tail": "into laughter", "tr": "рассмеяться" },
{ "verb": "break", "tail": "a habit", "tr": "отказаться от привычки" },
{ "verb": "break", "tail": "a record", "tr": "побить рекорд" },
{ "verb": "break", "tail": "the ice", "tr": "сломать лед, разрядить обстановку" },
{ "verb": "break", "tail": "the rules", "tr": "нарушать правила" },
{ "verb": "break", "tail": "free", "tr": "вырваться на свободу" },
{ "verb": "break", "tail": "even", "tr": "выйти в ноль, окупить расходы" },
{ "verb": "break", "tail": "down", "tr": "сломаться, подвести" },
{ "verb": "break", "tail": "someone’s heart", "tr": "разбить чье-то сердце" },
{ "verb": "break", "tail": "up (with someone)", "tr": "расстаться (с кем-то)" },
{ "verb": "break", "tail": "the silence", "tr": "нарушить тишину" },
{ "verb": "break", "tail": "the bank (cost a lot)", "tr": "влететь в копеечку, разорить" },
{ "verb": "break", "tail": "one’s promise", "tr": "нарушить обещание" },
{ "verb": "break", "tail": "new ground (innovate)", "tr": "открывать новые горизонты" },
{ "verb": "break", "tail": "through (achieve success after difficulty)", "tr": "прорваться, добиться успеха" },
// 9. FALL
{ "verb": "fall", "tail": "into disrepair", "tr": "прийти в негодность" },
{ "verb": "fall", "tail": "asleep", "tr": "заснуть" },
{ "verb": "fall", "tail": "in love", "tr": "влюбиться" },
{ "verb": "fall", "tail": "behind", "tr": "отставать" },
{ "verb": "fall", "tail": "apart", "tr": "развалиться, распасться" },
{ "verb": "fall", "tail": "silent", "tr": "замолчать" },
{ "verb": "fall", "tail": "for a trick", "tr": "попасться на уловку" },
{ "verb": "fall", "tail": "ill", "tr": "заболеть" },
{ "verb": "fall", "tail": "short", "tr": "не оправдать ожиданий, не хватать" },
{ "verb": "fall", "tail": "out (with someone)", "tr": "поссориться (с кем-то)" },
{ "verb": "fall", "tail": "apart at the seams (collapse emotionally or physically)", "tr":
"распадаться по швам (потерять контроль над собой)" },
{ "verb": "fall", "tail": "back on (use as a backup)", "tr": "полагаться на (что-то в качестве запасного варианта)" },
{ "verb": "fall", "tail": "behind schedule", "tr": "отставать от графика" },
{ "verb": "fall", "tail": "flat (fail to impress)", "tr": "провалиться, не произвести впечатления" },
{ "verb": "fall", "tail": "off (decrease)", "tr": "уменьшаться, падать" },
{ "verb": "fall", "tail": "prey (to something)", "tr": "стать жертвой (чего-то)" },
{ "verb": "fall", "tail": "under (a category / influence)", "tr": "попадать под (категорию / влияние)" },
{ "verb": "fall", "tail": "into place (start to make sense)", "tr": "встать на свои места (стать понятным)" },
{ "verb": "fall", "tail": "from grace", "tr": "потерять расположение" },
{ "verb": "fall", "tail": "on deaf ears (be ignored)", "tr": "быть проигнорированным" },
// 10. KEEP
{ "verb": "keep", "tail": "the change", "tr": "оставить сдачу" },
{ "verb": "keep", "tail": "(something) clean", "tr": "держать (что-то) в чистоте" },
{ "verb": "keep", "tail": "a secret", "tr": "хранить секрет" },
{ "verb": "keep", "tail": "in touch", "tr": "поддерживать связь" },
{ "verb": "keep", "tail": "track of", "tr": "отслеживать" },
{ "verb": "keep", "tail": "the peace", "tr": "сохранять мир" },
{ "verb": "keep", "tail": "an eye on", "tr": "присматривать за" },
{ "verb": "keep", "tail": "calm", "tr": "сохранять спокойствие" },
{ "verb": "keep", "tail": "quiet", "tr": "соблюдать тишину" },
{ "verb": "keep", "tail": "up the good work", "tr": "продолжать в том же духе" },
{ "verb": "keep", "tail": "in mind", "tr": "помнить" },
{ "verb": "keep", "tail": "going", "tr": "продолжать" },
{ "verb": "keep", "tail": "one’s word", "tr": "сдержать слово" },
{ "verb": "keep", "tail": "one’s cool", "tr": "сохранять хладнокровие" },
{ "verb": "keep", "tail": "someone posted (updated)", "tr": "держать кого-то в курсе" },
{ "verb": "keep", "tail": "pace (with something)", "tr": "идти в ногу (с чем-то)" },
{ "verb": "keep", "tail": "fit", "tr": "поддерживать форму" },
{ "verb": "keep", "tail": "someone company", "tr": "составить кому-то компанию" },
{ "verb": "keep", "tail": "the door open (for opportunities)", "tr": "оставить дверь открытой (для возможностей)" },
// 11. HOLD
{ "verb": "hold", "tail": "your breath", "tr": "задерживать дыхание" },
{ "verb": "hold", "tail": "(up to spectators)", "tr": "держать (перед зрителями)" },
{ "verb": "hold", "tail": "a meeting", "tr": "проводить встречу" },
{ "verb": "hold", "tail": "your ground", "tr": "стоять на своем" },
{ "verb": "hold", "tail": "onto something", "tr": "держаться за что-то" },
{ "verb": "hold", "tail": "a grudge", "tr": "затаить обиду" },
{ "verb": "hold", "tail": "the line", "tr": "не вешать трубку, подождать" },
{ "verb": "hold", "tail": "hands", "tr": "держаться за руки" },
{ "verb": "hold", "tail": "back tears", "tr": "сдерживать слезы" },
{ "verb": "hold", "tail": "someone accountable", "tr": "привлечь кого-то к ответственности" },
{ "verb": "hold", "tail": "your tongue", "tr": "придержать язык" },
{ "verb": "hold", "tail": "a conversation", "tr": "вести разговор" },
{ "verb": "hold", "tail": "a position (in a company, in battle)", "tr": "занимать должность / позицию" },
{ "verb": "hold", "tail": "the door (open for someone)", "tr": "придержать дверь" },
{ "verb": "hold", "tail": "a belief / opinion", "tr": "придерживаться мнения/веры" },
{ "verb": "hold", "tail": "in high regard", "tr": "высоко ценить" },
{ "verb": "hold", "tail": "the record (for something)", "tr": "владеть рекордом" },
{ "verb": "hold", "tail": "a ceremony", "tr": "проводить церемонию" },
// 12. SET
{ "verb": "set", "tail": "the table", "tr": "накрывать на стол" },
{ "verb": "set", "tail": "a trend", "tr": "задавать тренд" },
{ "verb": "set", "tail": "an example", "tr": "подавать пример" },
{ "verb": "set", "tail": "the alarm", "tr": "ставить будильник" },
{ "verb": "set", "tail": "aside time", "tr": "выделить время" },
{ "verb": "set", "tail": "a deadline", "tr": "установить срок" },
{ "verb": "set", "tail": "the scene", "tr": "создать обстановку" },
{ "verb": "set", "tail": "fire to", "tr": "поджечь" },
{ "verb": "set", "tail": "foot in", "tr": "ступить (куда-то)" },
{ "verb": "set", "tail": "free", "tr": "освободить" },
{ "verb": "set", "tail": "goals / objectives", "tr": "ставить цели / задачи" },
{ "verb": "set", "tail": "in motion", "tr": "привести в движение" },
{ "verb": "set", "tail": "the tone", "tr": "задавать тон" },
{ "verb": "set", "tail": "your sights on (something)", "tr": "нацелиться на (что-то)" },
{ "verb": "set", "tail": "up (a company, equipment, etc.)", "tr": "основать, установить, организовать" },
{ "verb": "set", "tail": "out (on a journey / to do something)", "tr": "отправиться (в путь) / намереваться" },
// 13. PUT
{ "verb": "put", "tail": "on (a coat)", "tr": "надеть (пальто)" },
{ "verb": "put", "tail": "effort into", "tr": "приложить усилие к" },
{ "verb": "put", "tail": "away", "tr": "убрать на место" },
{ "verb": "put", "tail": "pressure on", "tr": "оказывать давление на" },
{ "verb": "put", "tail": "on weight", "tr": "набирать вес" },
{ "verb": "put", "tail": "off (postpone)", "tr": "отложить" },
{ "verb": "put", "tail": "up with", "tr": "мириться с" },
{ "verb": "put", "tail": "into practice", "tr": "применять на практике" },
{ "verb": "put", "tail": "up (a tent / poster / guest)", "tr": "поставить (палатку) / повесить (плакат) / приютить (гостя)" },
{ "verb": "put", "tail": "an end to (something)", "tr": "положить конец (чему-то)" },
{ "verb": "put", "tail": "into words", "tr": "выразить словами" },
// 14. RUN
{ "verb": "run", "tail": "a café", "tr": "управлять кафе" },
{ "verb": "run", "tail": "smoothly", "tr": "идти гладко" },
{ "verb": "run", "tail": "errands", "tr": "выполнять поручения" },
{ "verb": "run", "tail": "out of", "tr": "закончиться, иссякнуть" },
{ "verb": "run", "tail": "a marathon", "tr": "бежать марафон" },
{ "verb": "run", "tail": "late", "tr": "опаздывать" },
{ "verb": "run", "tail": "a test", "tr": "провести тест" },
{ "verb": "run", "tail": "a risk", "tr": "рисковать" },
{ "verb": "run", "tail": "into trouble", "tr": "столкнуться с проблемой" },
{ "verb": "run", "tail": "for office", "tr": "баллотироваться на должность" },
{ "verb": "run", "tail": "across (someone/something)", "tr": "случайно встретить" },
{ "verb": "run", "tail": "low (on something)", "tr": "подходить к концу (о чем-то)" },
{ "verb": "run", "tail": "deep (emotions / feelings)", "tr": "быть глубоким (об эмоциях / чувствах)" },
{ "verb": "run", "tail": "the show (be in charge)", "tr": "руководить, управлять" },
{ "verb": "run", "tail": "tests / diagnostics", "tr": "проводить тесты / диагностику" },
// 15. TURN
{ "verb": "turn", "tail": "the key", "tr": "повернуть ключ" },
{ "verb": "turn", "tail": "sour", "tr": "испортиться (о ситуации), скиснуть" },
{ "verb": "turn", "tail": "around", "tr": "развернуться, изменить направление" },
{ "verb": "turn", "tail": "down (reject)", "tr": "отклонить (предложение)" },
{ "verb": "turn", "tail": "up the volume", "tr": "сделать громче" },
{ "verb": "turn", "tail": "into reality", "tr": "превратиться в реальность" },
{ "verb": "turn", "tail": "over a new leaf", "tr": "начать новую жизнь" },
{ "verb": "turn", "tail": "a blind eye", "tr": "закрыть глаза (на что-то)" },
{ "verb": "turn", "tail": "the corner", "tr": "преодолеть трудности, миновать кризис" },
{ "verb": "turn", "tail": "heads", "tr": "привлекать внимание" },
// 16. BRING
{ "verb": "bring", "tail": "up (mention)", "tr": "поднять (тему), упомянуть" },
{ "verb": "bring", "tail": "joy to", "tr": "приносить радость" },
{ "verb": "bring", "tail": "to life", "tr": "воплотить в жизнь" },
{ "verb": "bring", "tail": "to an end", "tr": "положить конец" },
{ "verb": "bring", "tail": "back (memories / items)", "tr": "возвращать (воспоминания / предметы)" },
{ "verb": "bring", "tail": "out the best / worst in someone", "tr": "выявлять лучшее / худшее в ком-то" },
{ "verb": "bring", "tail": "over (a friend)", "tr": "привести с собой (друга)" },
{ "verb": "bring", "tail": "up (a child)", "tr": "воспитывать (ребенка)" },
{ "verb": "bring", "tail": "into question", "tr": "поставить под сомнение" },
// 17. CATCH
{ "verb": "catch", "tail": "the sunrise", "tr": "встретить рассвет" },
{ "verb": "catch", "tail": "a cold", "tr": "простудиться" },
{ "verb": "catch", "tail": "someone’s eye", "tr": "привлечь чей-то взгляд" },
{ "verb": "catch", "tail": "the bus", "tr": "успеть на автобус" },
{ "verb": "catch", "tail": "fire", "tr": "загореться" },
{ "verb": "catch", "tail": "a glimpse", "tr": "мельком увидеть" },
{ "verb": "catch", "tail": "your breath", "tr": "затаить дыхание, перевести дух" },
{ "verb": "catch", "tail": "up with someone", "tr": "догнать кого-то" },
{ "verb": "catch", "tail": "red-handed", "tr": "поймать с поличным" },
{ "verb": "catch", "tail": "someone off guard", "tr": "застать врасплох" },
{ "verb": "catch", "tail": "someone’s attention", "tr": "привлечь чье-то внимание" },
{ "verb": "catch", "tail": "someone by surprise", "tr": "застать кого-то врасплох" },
{ "verb": "catch", "tail": "a thief", "tr": "поймать вора" },
// 18. COME
{ "verb": "come", "tail": "to (a solution)", "tr": "прийти к (решению)" },
{ "verb": "come", "tail": "across as", "tr": "производить впечатление" },
{ "verb": "come", "tail": "back", "tr": "вернуться" },
{ "verb": "come", "tail": "up with (an idea)", "tr": "придумать (идею)" },
{ "verb": "come", "tail": "to terms with", "tr": "смириться с" },
{ "verb": "come", "tail": "under pressure", "tr": "оказаться под давлением" },
{ "verb": "come", "tail": "clean", "tr": "признаться, говорить начистоту" },
{ "verb": "come", "tail": "to light", "tr": "обнаружиться, всплыть" },
{ "verb": "come", "tail": "full circle", "tr": "замкнуть круг" },
{ "verb": "come", "tail": "to an agreement", "tr": "прийти к соглашению" },
{ "verb": "come", "tail": "true (dreams, wishes)", "tr": "сбыться (о мечтах, желаниях)" },
{ "verb": "come", "tail": "close (to doing something)", "tr": "быть близко (к чему-то)" },
{ "verb": "come", "tail": "out (of hiding / publicly)", "tr": "выйти (из укрытия / публично)" },
{ "verb": "come", "tail": "in handy", "tr": "пригодиться" },
// 19. STAND
{ "verb": "can't", "tail": "stand", "tr": "терпеть не могу" },
{ "verb": "stand", "tail": "for smth", "tr": "означать что-то" },
{ "verb": "stand", "tail": "by (support someone)", "tr": "поддерживать (кого-то)" },
{ "verb": "stand", "tail": "up (for yourself / someone)", "tr": "постоять (за себя / кого-то)" },
{ "verb": "stand", "tail": "out (be noticeable)", "tr": "выделяться" },
{ "verb": "stand", "tail": "trial", "tr": "предстать перед судом" },
{ "verb": "stand", "tail": "a chance (of doing something)", "tr": "иметь шанс (сделать что-то)" },
{ "verb": "stand", "tail": "in for (replace someone temporarily)", "tr": "заменять (кого-то временно)" },
{ "verb": "stand", "tail": "the test of time", "tr": "выдержать испытание временем" },
{ "verb": "stand", "tail": "one’s ground", "tr": "стоять на своем" },
// 20. SAY/SPEAK/TELL
{ "verb": "tell", "tail": "the truth", "tr": "говорить правду" },
{ "verb": "tell", "tail": "lies", "tr": "лгать" },
{ "verb": "tell", "tail": "a secret", "tr": "рассказать секрет" },
{ "verb": "tell", "tail": "a joke", "tr": "рассказать анекдот" },
{ "verb": "tell", "tail": "the difference", "tr": "увидеть разницу" },
{ "verb": "tell", "tail": "the time", "tr": "сказать время" },
{ "verb": "tell", "tail": "someone off", "tr": "отругать кого-то" },
{ "verb": "tell", "tail": "the future/fortune", "tr": "предсказывать будущее/гадать" },
{ "verb": "say", "tail": "hello/goodbye/no", "tr": "сказать привет/пока/нет" },
{ "verb": "say", "tail": "your name", "tr": "назвать свое имя" },
{ "verb": "say", "tail": "something nice/mean", "tr": "сказать что-то хорошее/плохое" },
{ "verb": "say", "tail": "sorry", "tr": "извиниться" },
{ "verb": "to say", "tail": "the least", "tr": "по меньшей мере" },
{ "verb": "frankly speaking/ generally speaking", "tail": "", "tr": "откровенно говоря/ вообще говоря" },
{ "verb": "speak", "tail": "up", "tr": "говорить громче" },
{ "verb": "speak", "tail": "your mind", "tr": "высказать свое мнение" },
{ "verb": "speak", "tail": "highly of/ill of", "tr": "хорошо/плохо отзываться о" },
{ "verb": "speak", "tail": "of the devil", "tr": "легок на помине" },
{ "verb": "speak", "tail": "for yourself", "tr": "говорить за себя" },
{ "verb": "speak", "tail": "English", "tr": "говорить по-английски" }
];

function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
}

shuffle(data);

let i = 0, score = 0;
let isErrorMode = false;
let currentSet = data;


let mistakes = JSON.parse(localStorage.getItem("mistakes")) || [];
const mistakeList = document.getElementById("mistakeList");

function renderMistakes() {
  mistakeList.innerHTML = "";

  mistakes.forEach(m => {
    const li = document.createElement("li");
    li.textContent = `${m.phrasal} — you: ${m.your} | correct: ${m.correct}`;
    mistakeList.appendChild(li);
  });
}

const phrase = document.getElementById("phrase");
const answer = document.getElementById("answer");
const feedback = document.getElementById("feedback");
const translation = document.getElementById("translation");
const scoreEl = document.getElementById("score");

function load() {
  if (!currentSet.length) {
    phrase.textContent = "No mistakes yet";
    phrase.classList.add("no-mistakes");
    return;
  }

  phrase.classList.remove("no-mistakes");

  const item = currentSet[i % currentSet.length];
  phrase.textContent = "➜ " + item.tail;
  answer.value = "";
  feedback.textContent = "";
  translation.textContent = "";
}

document.getElementById("checkBtn").onclick = () => {
  const item = currentSet[i % currentSet.length];
  if (answer.value.trim().toLowerCase() === item.verb) {
    score++;
    feedback.textContent = "Correct ✓";
  } else {
  feedback.textContent = "Wrong ✗ Correct: " + item.verb;

  const fullPhrasal = item.verb + " " + item.tail;

  if (!mistakes.some(m => m.phrasal === fullPhrasal)) {
    mistakes.push({
      phrasal: fullPhrasal,
      your: answer.value.trim() || "—",
      correct: item.verb,
      tr: item.tr
    });

    localStorage.setItem("mistakes", JSON.stringify(mistakes));
    renderMistakes();
  }
}
  scoreEl.textContent = "Score: " + score;
  i++;
  setTimeout(load, 700);
};

document.getElementById("skipBtn").onclick = () => {
  feedback.textContent = "Skipped →";
  i++;
  setTimeout(load, 400);
};

document.getElementById("showTranslation").onclick = () => {
  translation.textContent = data[i % data.length].tr;
};
renderMistakes();

document.getElementById("clearMistakes").onclick = () => {
  mistakes = [];
  localStorage.removeItem("mistakes");
  renderMistakes();
};
const mistakesBox = document.getElementById("mistakesBox");
const toggleMistakes = document.getElementById("toggleMistakes");

toggleMistakes.onclick = () => {
  mistakesBox.classList.toggle("collapsed");
  toggleMistakes.textContent =
    mistakesBox.classList.contains("collapsed") ? "Show" : "Hide";
};

document.getElementById("modeToggle").onclick = function () {
  isErrorMode = !isErrorMode;
  i = 0;

   document.body.classList.toggle("errors", isErrorMode); // ← ВОТ СЮДА
   this.classList.toggle("active", isErrorMode);

  if (isErrorMode) {
    currentSet = mistakes.map(m => ({
      verb: m.correct,
      tail: m.phrasal.replace(m.correct + " ", ""),
      tr: m.tr
    }));
    this.textContent = "Normal mode";
  } else {
    currentSet = data;
    shuffle(currentSet);
    this.textContent = "Errors mode";
  }

  load();
};
</script>

</body>
</html>

